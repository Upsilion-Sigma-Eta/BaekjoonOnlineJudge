# 1722번 순열의 순서

## 링크

[1722번: 순열의 순서 (acmicpc.net)](https://www.acmicpc.net/problem/1722)

## 제약 조건

| 제약 조건명 |   값    |
| :---------: | :-----: |
|  시간 제한  |   2초   |
| 메모리 제한 |  128MB  |
|  정답 비율  | 33.512% |

## 접근

문제의 타입은 1타입과 2타입으로 나누어진다. 1타입일 때에는 해당 인덱스에 해당하는 순열을, 2타입일 때에는 주어진 순열의 인덱스를 구해야 한다.

특정 순열을 구하는 1타입의 경우에는, 다음과 같은 과정으로 순열을 구할 수 있다.

- 순열에 들어갈 수 있는 숫자들 중 남아있는 요소로 만들 수 있는 순열의 개수를 게산한다.
- 구하고자 하는 순열의 인덱스를 현재 가능한 순열의 수로 나눈 몫을 계산하여 현재 자리에서 어떤 숫자를 선택해야 하는지를 결정한다.
- 현재 선택한 숫자 이후의 다음 자리에 들어올 수 있는 숫자를 게산하기 위해서 가능한 순열의 갯수와 모듈러스 연산을 취한다.

특정 순열의 인덱스를 구하는 2타입의 경우에는, 다음과 같은 과정으로 순열을 구할 수 있다.

- 현재 자리에서 가능한 순열의 개수를 계산해서 미리 준비한다.(사전 준비)
- 현재 위치의 숫자가 사전순으로 몇 번째인지를 찾는다.
- 이 값을 미리 준비한 가능한 순열의 개수와 곱하면 현재 숫자가 시작되는 범위의 사전순 순열의 개수를 알 수 있다. 이 값을 현재까지 계산된 사전순 인덱스에 업데이트한다.
- 현재 위치의 숫자를 사전순 리스트(정렬된 리스트)에서 제거하여 다음 계산을 준비한다.
- 남아있는 자리에서 만들 수 있는 순열의 개수를 갱신한다.
- 최종적으로 계산된 인덱스는 0 기반 인덱스로 계산되었으므로, 1 기반 인덱스로 변환하여 출력한다.

문제를 푸는데 있어서 핵심은 특정 숫자가 고정되었을 때 나머지 숫자들의 모든 조합의 개수를 계산하는 것과, 사전순 인덱스 게산을 위해서 주어진 숫자가 몇 번째에 있는지를 확인하여 해당 위치까지의 범위를 순차적으로 축소하여 찾아내는 것이다.
