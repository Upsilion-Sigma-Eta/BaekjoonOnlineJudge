# 1594번 전화번호 만들기

## 링크

[1594번: 전화번호 만들기](https://www.acmicpc.net/problem/1594)

## 제약 조건

| 제약 조건명 |   값    |
| :---------: | :-----: |
|  시간 제한  |   2초   |
| 메모리 제한 |  128MB  |
|  정답 비율  | 26.531% |

## 접근

전화번호가 굉장히 길 수 있기 떄문에, 전체 그룹 분할을 탐색하는 것은 비효율적이다. 따라서, 동적 계획법 또는 백트래킹으로 접근해야 한다. 여기서는 동적 계획법으로 접근하기로 한다.

DP배열은 인덱스 i부터 시작하는 부분 문자열의 최대 품질과 해당 전화번호 문자열을 저장하는 `std::pair`를 가지도록 정의한다. 이후 현재 위치 `i`에서 길이 2 또는 3의 그룹을 형성할 때, 그 이후의 나머지 부분에 대해서는 `dp[i + group_size]`에 저장된 최적의 품질 값을 참고한다. 이렇게 하면 현재 위치에서의 그룹 선택과 그 이후의 나머지 부분에서의 최적 그룹 선택의 해를 조합하여 현재 위치에서의 최적 품질을 계산할 수 있다. 기본적인 사례로, `dp[N] = (0, "")`으로 설정하여 문자열의 끝에서 더이상 그룹을 나눌 수 없으며, 품질이 0임을 설정한다. 이것이 기저 사례가 된다.

즉 문제는, 현재 위치에서의 추출한 그룹의 퀄리티를 이용해서 나머지 부분 문자열의 최적해에 저장된 품질값을 ㅇ용해 총 품질을 계산하고, 계산한 총 품질 값을 비교해서 가장 높은 품질값으로 dp 테이블을 갱신해나가면서 품질이 동일한 경우, 전화번호 문자열을 사전순으로 비교하여 더 작은 것을 택해나가는 식으로 이루어진다.
