# 28284번 스터디 카페

## 링크

[28284번: 스터디 카페](https://www.acmicpc.net/problem/28284)

## 제약 조건

| 제약 조건명 |   값    |
| :---------: | :-----: |
|  시간 제한  |   2초   |
| 메모리 제한 | 1024MB  |
|  정답 비율  | 35.069% |

## 접근

날짜의 범위가 매우 크기 때문에 각 날짜별로 데이터를 처리하는 접근 방법은 사용할 수 없다. 날짜별로 발생하는 이벤트를 처리하는 이벤트 기반 접근법을 사용해야 한다. 이용이 시작되는 날과 끝나는 날에 이벤트를 기록한다. 그리고 모든 이벤트를 날짜 순으로 정렬하여, 날짜별로 고객 수의 변화를 추적할 수 있도록 만든다. 이후 이벤트를 처리해나가면서 현재 이용 중인 고객 수를 업데이트 한다.

이제 최대 수익과 최소 수익을 계산할 때는, 좌석 가격을 내림차순과 오름차순으로 정렬하고, 각 경우에 대한 누적합을 미리 계산해놓는다. 이렇게 하면 특정 인원수에 대한 좌석 가격의 합을 가장 빠르게 구할 수 있다. 최대 수익은 가장 비싼 좌석부터 채워지므로, 내림차순으로 정렬한 것에 대한 누적합을, 최소 수식은 가장 저렴한 좌석부터 채워지는 경우이므로 가격을 오름차순으로 정렬한 것에 대한 누적합을 계산한다. 이후 이벤트를 처리하면서 현재 이벤트의 날짜와 다음 이벤트의 날짜 차이를 이용하여 기간을 계산하고, 고객 수를 업데이트 하면서, 현재 고객수에 따른 좌석 가격의 합을 누적하면 된다. 이후, 모든 이벤트 처리 후에도 이용 중인 고객의 경우를 추가로 계산해서 처리한다.
